"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([["4459"],{5092:function(e,i,n){n.r(i),n.d(i,{default:()=>h,frontMatter:()=>d,metadata:()=>s,assets:()=>c,toc:()=>o,contentTitle:()=>l});var s=JSON.parse('{"id":"user_guide/fitting/experiment_files","title":"Experiment Files","description":"Overview","source":"@site/docs/user_guide/fitting/experiment_files.md","sourceDirName":"user_guide/fitting","slug":"/user_guide/fitting/experiment_files","permalink":"/ChemEx/docs/user_guide/fitting/experiment_files","draft":false,"unlisted":false,"editUrl":"https://github.com/gbouvignies/chemex/tree/main/website/docs/user_guide/fitting/experiment_files.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Starting a Fit","permalink":"/ChemEx/docs/user_guide/fitting/chemex_fit"},"next":{"title":"Data Files","permalink":"/ChemEx/docs/user_guide/fitting/data_files"}}'),t=n("5893"),r=n("65");let d={sidebar_position:3},l="Experiment Files",c={},o=[{value:"Overview",id:"overview",level:2},{value:"Structure of Experiment Files",id:"structure-of-experiment-files",level:2},{value:"Example of an Experiment File",id:"example-of-an-experiment-file",level:3},{value:"Detailed Sections",id:"detailed-sections",level:2},{value:"<code>[experiment]</code>",id:"experiment",level:3},{value:"<code>[conditions]</code>",id:"conditions",level:3},{value:"<code>label</code>",id:"label",level:4},{value:"<code>[data]</code>",id:"data",level:3},{value:"<code>error</code>",id:"error",level:4},{value:"<code>filter_offsets</code>",id:"filter_offsets",level:4},{value:"<code>[data.profiles]</code>",id:"dataprofiles",level:4}];function a(e){let i={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.header,{children:(0,t.jsx)(i.h1,{id:"experiment-files",children:"Experiment Files"})}),"\n",(0,t.jsx)(i.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsxs)(i.p,{children:["In ChemEx, experiment files specify details about the datasets and file locations for analysis. These files are provided to ChemEx through the ",(0,t.jsx)(i.code,{children:"-e"})," or ",(0,t.jsx)(i.code,{children:"--experiments"})," command-line option:"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-shell",children:"chemex fit -e <experiment_file1> <experiment_file2> [...]\n"})}),"\n",(0,t.jsx)(i.h2,{id:"structure-of-experiment-files",children:"Structure of Experiment Files"}),"\n",(0,t.jsx)(i.p,{children:"Experiment files consist of three main sections:"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:(0,t.jsx)(i.code,{children:"[experiment]"})}),": Contains information about the experiment setup."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:(0,t.jsx)(i.code,{children:"[conditions]"})}),": Specifies sample conditions."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:(0,t.jsx)(i.code,{children:"[data]"})}),": Details data location, spin system assignments, and methods for estimating uncertainties or filtering data."]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"example-of-an-experiment-file",children:"Example of an Experiment File"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-toml",metastring:'title="experiment.toml"',children:'[experiment]\nname         = "cest_15n"\ntime_t1      = 0.5\ncarrier      = 118.987\nb1_frq       = 26.3\n\n[conditions]\nh_larmor_frq = 499.243\n# p_total     = 2.0e-3\n# sample      = "A39G FF domain"\n# temperature = 1.0\n\n[data]\npath           = "../Data/26Hz/"\nerror          = "scatter"\nfilter_offsets = [[0.0, 26.0]]\n\n  [data.profiles]\n  13N = "13N-HN.out"\n  26N = "26N-HN.out"\n  28N = "28N-HN.out"\n  29N = "29N-HN.out"\n'})}),"\n",(0,t.jsx)(i.admonition,{type:"note",children:(0,t.jsxs)(i.p,{children:["Each experiment available in ChemEx includes a sample configuration file, which details available key-value pairs. These samples are found in the ",(0,t.jsx)(i.a,{href:"/docs/experiments",children:"Experiments"})," section."]})}),"\n",(0,t.jsx)(i.h2,{id:"detailed-sections",children:"Detailed Sections"}),"\n",(0,t.jsx)(i.h3,{id:"experiment",children:(0,t.jsx)(i.code,{children:"[experiment]"})}),"\n",(0,t.jsxs)(i.p,{children:["The ",(0,t.jsx)(i.code,{children:"[experiment]"})," section defines the type and settings of the pulse sequence. Common keys include:"]}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"Key"}),(0,t.jsx)(i.th,{children:"Description"})]})}),(0,t.jsxs)(i.tbody,{children:[(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"name"})}),(0,t.jsx)(i.td,{children:"Pulse sequence name."})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"carrier"})}),(0,t.jsx)(i.td,{children:"Carrier position during the experiment, in ppm."})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsxs)(i.td,{children:[(0,t.jsx)(i.code,{children:"time_t2"}),", ",(0,t.jsx)(i.code,{children:"time_t1"})]}),(0,t.jsx)(i.td,{children:"Relaxation delays in seconds (e.g., for CPMG relaxation dispersion experiments)."})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"pw90"})}),(0,t.jsx)(i.td,{children:"90-degree pulse width, in seconds."})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"b1_frq"})}),(0,t.jsx)(i.td,{children:"B1 radio-frequency field strength, in Hz."})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"observed_state"})}),(0,t.jsxs)(i.td,{children:["ID of the observed state (e.g., ",(0,t.jsx)(i.code,{children:"a"}),", ",(0,t.jsx)(i.code,{children:"b"}),", ",(0,t.jsx)(i.code,{children:"c"}),", or ",(0,t.jsx)(i.code,{children:"d"}),")."]})]})]})]}),"\n",(0,t.jsx)(i.h3,{id:"conditions",children:(0,t.jsx)(i.code,{children:"[conditions]"})}),"\n",(0,t.jsxs)(i.p,{children:["The ",(0,t.jsx)(i.code,{children:"[conditions]"})," section provides experimental and sample conditions, such as Larmor frequency, temperature, concentration, and labeling. ",(0,t.jsx)(i.code,{children:"h_larmor_frq"})," (Larmor frequency) is required, while ",(0,t.jsx)(i.code,{children:"temperature"}),", ",(0,t.jsx)(i.code,{children:"p_total"}),", and ",(0,t.jsx)(i.code,{children:"l_total"})," depend on the kinetic model used."]}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"Key"}),(0,t.jsx)(i.th,{children:"Description"})]})}),(0,t.jsxs)(i.tbody,{children:[(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"h_larmor_frq"})}),(0,t.jsx)(i.td,{children:"Larmor frequency in MHz."})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"temperature"})}),(0,t.jsx)(i.td,{children:"Sample temperature in \xb0C (optional, required by certain kinetic models)."})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsxs)(i.td,{children:[(0,t.jsx)(i.code,{children:"p_total"}),", ",(0,t.jsx)(i.code,{children:"l_total"})]}),(0,t.jsx)(i.td,{children:"Protein and ligand concentrations in M (optional, required by certain kinetic models)."})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"label"})}),(0,t.jsx)(i.td,{children:"Labeling scheme for the sample."})]})]})]}),"\n",(0,t.jsx)(i.h4,{id:"label",children:(0,t.jsx)(i.code,{children:"label"})}),"\n",(0,t.jsxs)(i.p,{children:["The ",(0,t.jsx)(i.code,{children:"label"})," key indicates the sample\u2019s isotopic labeling scheme, used to account for isotopic effects in certain experiments. Examples:"]}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:'"2H"'})," for deuterated samples."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:'"13C"'})," for uniformly ",(0,t.jsx)("sup",{children:"13"}),"C-labeled samples."]}),"\n"]}),"\n",(0,t.jsxs)(i.p,{children:["For a uniformly ",(0,t.jsx)("sup",{children:"13"}),"C-labeled, perdeuterated sample:"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-toml",children:'label = ["13C", "2H"]\n'})}),"\n",(0,t.jsx)(i.h3,{id:"data",children:(0,t.jsx)(i.code,{children:"[data]"})}),"\n",(0,t.jsxs)(i.p,{children:["The ",(0,t.jsx)(i.code,{children:"[data]"})," section specifies data file locations, spin system assignments, and methods for error estimation and data filtering."]}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"Key"}),(0,t.jsx)(i.th,{children:"Description"})]})}),(0,t.jsxs)(i.tbody,{children:[(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"path"})}),(0,t.jsx)(i.td,{children:"Path to the directory containing data files."})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"error"})}),(0,t.jsx)(i.td,{children:"Method for error estimation."})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"filter_offsets"})}),(0,t.jsx)(i.td,{children:"List of offsets to exclude from calculations (e.g., in CEST experiments)."})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"filter_planes"})}),(0,t.jsx)(i.td,{children:"List of planes to exclude from calculations (e.g., in CEST and CPMG experiments)."})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"[data.profiles]"})}),(0,t.jsx)(i.td,{children:"Subsection listing experimental profile file names with their spin-system assignments."})]})]})]}),"\n",(0,t.jsx)(i.h4,{id:"error",children:(0,t.jsx)(i.code,{children:"error"})}),"\n",(0,t.jsxs)(i.p,{children:["The ",(0,t.jsx)(i.code,{children:"error"})," key specifies the method for estimating uncertainties:"]}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"Value"}),(0,t.jsx)(i.th,{children:"Description"})]})}),(0,t.jsxs)(i.tbody,{children:[(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:'"file"'})}),(0,t.jsx)(i.td,{children:"Use uncertainties directly from the data file."})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:'"duplicates"'})}),(0,t.jsx)(i.td,{children:"Calculate uncertainty using pooled standard deviation, or return average error if duplicates are not available."})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:'"scatter"'})}),(0,t.jsx)(i.td,{children:"Estimate uncertainty by assuming additive Gaussian noise on the profile, suitable for CEST data."})]})]})]}),"\n",(0,t.jsx)(i.h4,{id:"filter_offsets",children:(0,t.jsx)(i.code,{children:"filter_offsets"})}),"\n",(0,t.jsx)(i.p,{children:"This key filters out specified offsets from CEST profiles, useful for removing artifacts like sidebands. Provide a list of offset and bandwidth pairs, where each pair specifies an offset relative to the main resonance and a bandwidth around the offset to exclude. Values are in Hz."}),"\n",(0,t.jsx)(i.p,{children:"Example:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-toml",children:"filter_offsets = [\n   [0.0, 20.0],\n   [-300.0, 20.0],\n   [+300.0, 20.0],\n ]\n"})}),"\n",(0,t.jsx)(i.h4,{id:"dataprofiles",children:(0,t.jsx)(i.code,{children:"[data.profiles]"})}),"\n",(0,t.jsxs)(i.p,{children:["The ",(0,t.jsx)(i.code,{children:"[data.profiles]"})," subsection lists filenames of experimental profiles along with their spin-system assignments. Spin-system names follow Sparky-NMR conventions, using a group name (e.g., amino acid and position, like ALA3 or A3) and atom name (e.g., N, CA, CG1)."]}),"\n",(0,t.jsxs)(i.p,{children:["For multi-spin systems, use the ",(0,t.jsx)(i.code,{children:"-"})," sign to separate spins. For example, ",(0,t.jsx)(i.code,{children:"G23N-G23H"})," or ",(0,t.jsx)(i.code,{children:"G23N-H"})," are both valid."]}),"\n",(0,t.jsx)(i.p,{children:"Example:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-toml",children:'  [data.profiles]\n  13N = "13N-HN.out"\n  26N = "26N-HN.out"\n  28N = "28N-HN.out"\n  29N = "29N-HN.out"\n'})}),"\n",(0,t.jsx)(i.admonition,{type:"note",children:(0,t.jsx)(i.p,{children:"Select spin-system names that accurately reflect the spin system of interest in each experiment. While ChemEx can auto-correct minor name inconsistencies, precise naming is recommended."})})]})}function h(e={}){let{wrapper:i}={...(0,r.a)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},65:function(e,i,n){n.d(i,{Z:function(){return l},a:function(){return d}});var s=n(7294);let t={},r=s.createContext(t);function d(e){let i=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),s.createElement(r.Provider,{value:i},e.children)}}}]);